% \documentclass{article}
% \usepackage[T1]{fontenc}
% \ExplSyntaxOn
% % 1.arg specification
% \NewDocumentCommand{\calc}{so}{
%   \meaning #1\par 
%   #2
% }

% % 2.expandablity
% \newcommand{\text}{text}
% \NewDocumentCommand{\Cmd}{}{
%   % \meaning #1
%   % \uppercase{#1}
%   text
% }
% \NewExpandableDocumentCommand{\ExpCmd}{}{
%   % \meaning #1
%   % \uppercase{#1}
%   text
% }
% \ExplSyntaxOff


% \begin{document}
% % \Cmd{\text}\par
% % \ExpCmd{\text}


% \uppercase{text}\par 
% \uppercase{\Cmd}\par
% \uppercase{\ExpCmd}
% \end{document}



\documentclass[border=6pt]{standalone}
\usepackage{tikz}
\NewDocumentCommand\testA{m}{#1}
\NewExpandableDocumentCommand\testB{m}{#1}
\newcommand{\testC}[1]{#1}

\begin{document}
\begin{tikzpicture}
  % \draw[\testA{red}] (0,0)--(1,1);    % fails
  % \draw[\testB{red}] (0,0)--(1,1);  % works
  \draw[\testC{red}] (0,0)--(1,1);  % works
\end{tikzpicture}
\end{document}